(function(){function f(b){b?(a[0]=a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0,this.blocks=a):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=1732584193;this.h1=4023233417;this.h2=2562383102;this.h3=271733878;this.h4=3285377520;this.block=this.start=this.bytes=0;this.finalized=this.hashed=!1;this.first=!0}var d="object"===typeof window?window:{},c="0123456789abcdef".split(""),l=[-2147483648,8388608,32768,128],n=[24,16,8,0],k=["hex","array","digest",
"arrayBuffer"],a=[],b=function(a){return function(b){return(new f(!0)).update(b)[a]()}};f.prototype.update=function(a){if(!this.finalized){var b="string"!==typeof a;b&&a.constructor===d.ArrayBuffer&&(a=new Uint8Array(a));for(var p,e=0,g,c=a.length||0,h=this.blocks;e<c;){this.hashed&&(this.hashed=!1,h[0]=this.block,h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0);if(b)for(g=this.start;e<c&&64>g;++e)h[g>>2]|=a[e]<<n[g++&3];else for(g=this.start;e<c&&64>g;++e)p=
a.charCodeAt(e),128>p?h[g>>2]|=p<<n[g++&3]:(2048>p?h[g>>2]|=(192|p>>6)<<n[g++&3]:(55296>p||57344<=p?h[g>>2]|=(224|p>>12)<<n[g++&3]:(p=65536+((p&1023)<<10|a.charCodeAt(++e)&1023),h[g>>2]|=(240|p>>18)<<n[g++&3],h[g>>2]|=(128|p>>12&63)<<n[g++&3]),h[g>>2]|=(128|p>>6&63)<<n[g++&3]),h[g>>2]|=(128|p&63)<<n[g++&3]);this.lastByteIndex=g;this.bytes+=g-this.start;64<=g?(this.block=h[16],this.start=g-64,this.hash(),this.hashed=!0):this.start=g}return this}};f.prototype.finalize=function(){if(!this.finalized){this.finalized=
!0;var a=this.blocks,b=this.lastByteIndex;a[16]=this.block;a[b>>2]|=l[b&3];this.block=a[16];56<=b&&(this.hashed||this.hash(),a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0);a[15]=this.bytes<<3;this.hash()}};f.prototype.hash=function(){var a=this.h0,b=this.h1,e=this.h2,c=this.h3,g=this.h4,d,h=this.blocks;for(d=16;80>d;++d){var m=h[d-3]^h[d-8]^h[d-14]^h[d-16];h[d]=m<<1|m>>>31}for(d=0;20>d;d+=5){var f=b&e|~b&c;m=a<<5|a>>>27;g=m+f+g+1518500249+
h[d]<<0;b=b<<30|b>>>2;f=a&b|~a&e;m=g<<5|g>>>27;c=m+f+c+1518500249+h[d+1]<<0;a=a<<30|a>>>2;f=g&a|~g&b;m=c<<5|c>>>27;e=m+f+e+1518500249+h[d+2]<<0;g=g<<30|g>>>2;f=c&g|~c&a;m=e<<5|e>>>27;b=m+f+b+1518500249+h[d+3]<<0;c=c<<30|c>>>2;f=e&c|~e&g;m=b<<5|b>>>27;a=m+f+a+1518500249+h[d+4]<<0;e=e<<30|e>>>2}for(;40>d;d+=5)f=b^e^c,m=a<<5|a>>>27,g=m+f+g+1859775393+h[d]<<0,b=b<<30|b>>>2,f=a^b^e,m=g<<5|g>>>27,c=m+f+c+1859775393+h[d+1]<<0,a=a<<30|a>>>2,f=g^a^b,m=c<<5|c>>>27,e=m+f+e+1859775393+h[d+2]<<0,g=g<<30|g>>>2,
f=c^g^a,m=e<<5|e>>>27,b=m+f+b+1859775393+h[d+3]<<0,c=c<<30|c>>>2,f=e^c^g,m=b<<5|b>>>27,a=m+f+a+1859775393+h[d+4]<<0,e=e<<30|e>>>2;for(;60>d;d+=5)f=b&e|b&c|e&c,m=a<<5|a>>>27,g=m+f+g-1894007588+h[d]<<0,b=b<<30|b>>>2,f=a&b|a&e|b&e,m=g<<5|g>>>27,c=m+f+c-1894007588+h[d+1]<<0,a=a<<30|a>>>2,f=g&a|g&b|a&b,m=c<<5|c>>>27,e=m+f+e-1894007588+h[d+2]<<0,g=g<<30|g>>>2,f=c&g|c&a|g&a,m=e<<5|e>>>27,b=m+f+b-1894007588+h[d+3]<<0,c=c<<30|c>>>2,f=e&c|e&g|c&g,m=b<<5|b>>>27,a=m+f+a-1894007588+h[d+4]<<0,e=e<<30|e>>>2;for(;80>
d;d+=5)f=b^e^c,m=a<<5|a>>>27,g=m+f+g-899497514+h[d]<<0,b=b<<30|b>>>2,f=a^b^e,m=g<<5|g>>>27,c=m+f+c-899497514+h[d+1]<<0,a=a<<30|a>>>2,f=g^a^b,m=c<<5|c>>>27,e=m+f+e-899497514+h[d+2]<<0,g=g<<30|g>>>2,f=c^g^a,m=e<<5|e>>>27,b=m+f+b-899497514+h[d+3]<<0,c=c<<30|c>>>2,f=e^c^g,m=b<<5|b>>>27,a=m+f+a-899497514+h[d+4]<<0,e=e<<30|e>>>2;this.h0=this.h0+a<<0;this.h1=this.h1+b<<0;this.h2=this.h2+e<<0;this.h3=this.h3+c<<0;this.h4=this.h4+g<<0};f.prototype.hex=function(){this.finalize();var a=this.h0,b=this.h1,e=this.h2,
d=this.h3,g=this.h4;return c[a>>28&15]+c[a>>24&15]+c[a>>20&15]+c[a>>16&15]+c[a>>12&15]+c[a>>8&15]+c[a>>4&15]+c[a&15]+c[b>>28&15]+c[b>>24&15]+c[b>>20&15]+c[b>>16&15]+c[b>>12&15]+c[b>>8&15]+c[b>>4&15]+c[b&15]+c[e>>28&15]+c[e>>24&15]+c[e>>20&15]+c[e>>16&15]+c[e>>12&15]+c[e>>8&15]+c[e>>4&15]+c[e&15]+c[d>>28&15]+c[d>>24&15]+c[d>>20&15]+c[d>>16&15]+c[d>>12&15]+c[d>>8&15]+c[d>>4&15]+c[d&15]+c[g>>28&15]+c[g>>24&15]+c[g>>20&15]+c[g>>16&15]+c[g>>12&15]+c[g>>8&15]+c[g>>4&15]+c[g&15]};f.prototype.toString=f.prototype.hex;
f.prototype.digest=function(){this.finalize();var a=this.h0,b=this.h1,e=this.h2,c=this.h3,g=this.h4;return[a>>24&255,a>>16&255,a>>8&255,a&255,b>>24&255,b>>16&255,b>>8&255,b&255,e>>24&255,e>>16&255,e>>8&255,e&255,c>>24&255,c>>16&255,c>>8&255,c&255,g>>24&255,g>>16&255,g>>8&255,g&255]};f.prototype.array=f.prototype.digest;f.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(20),b=new DataView(a);b.setUint32(0,this.h0);b.setUint32(4,this.h1);b.setUint32(8,this.h2);b.setUint32(12,this.h3);
b.setUint32(16,this.h4);return a};var e=function(){var a=b("hex");a.create=function(){return new f};a.update=function(b){return a.create().update(b)};for(var e=0;e<k.length;++e){var c=k[e];a[c]=b(c)}return a}();d.a1=e})();
var BDCustomFor=function(){var f={},d=0,c=!1;stopFor=function(){c=!1;clearTimeout(d)};return{run:function(l){f=l||{};l=f.startingPos;var n=f.endingPos?f.endingPos:Math.pow(2,31)-1,k=f.step||15E3,a=f.eachFn;if(!l||!n||"function"!==typeof a)throw Error("Invalid arguments");var b=l;c=!0;(function p(){for(;b<=n&&c;b++)if(a(b),0===b%k){b++;d=setTimeout(p,0);break}})()},stopFor:stopFor}}();
(function(f){function d(a){this.options=k.extend(a||{},n);this.captchaStyleName=this.options.captchaStyleName;this.captchaId=this.options.captchaId;this.image=c.getElementById(this.captchaStyleName+"_CaptchaImage");this.imagePlaceholder=this.image.parentNode;this.imageSrcUrl=this.image.src;this.base64Image=this.grayscaleImageDataUrl=this.colorImageDataUrl=null;this.controlsDisabled=!1;if(a=c.getElementById(this.captchaStyleName+"_ReloadLink"))if(a.style.cssText="display: inline-block !important",
this.reloadTimer=this.progressIndicator=this.newImage=null,this.reloadTimerTicks=0,this.options.autoReloadPeriod=1E3*Math.max(this.options.autoReloadPeriod-10,10),this.options.autoReloadTimeout*=1E3,this.autoReloadPeriodSum=0,this.autoReloading=!1,this.options.autoReloadExpiredImage){this.autoReloadTimer&&clearTimeout(this.autoReloadTimer);var b=this;this.autoReloadTimer=setTimeout(function(){clearTimeout(b.autoReloadTimer);b.autoReloadPeriodSum>=b.options.autoReloadTimeout?(b.disableControls(),b.sessionExpired=
!0):(b.autoReloading=!0,b.reloadImage(),b.autoReloading=!1,b.autoReloadPeriodSum+=b.options.autoReloadPeriod,b=null)},b.options.autoReloadPeriod)}if(a=c.getElementById(this.captchaStyleName+"_ReloadIcon")){this.reloadIconSrc=a.src;this.disabledReloadIconSrc=null;a=c.createElement("img");var e=this;a.onload=function(){e.disabledReloadIconSrc=this.src;e=null};a.src=this.reloadIconSrc.replace("icon","disabled-icon")}this.soundPlayDelayed=this.soundPlayed=!1;this.soundReplayCount=0;this.playNewAudio=
!1;if(a=c.getElementById(this.captchaStyleName+"_SoundLink"))this.soundUrl=a.href;this.soundPlaceholder=c.getElementById(this.captchaStyleName+"_AudioPlaceholder");if(a=c.getElementById(this.captchaStyleName+"_SoundIcon")){this.soundIconSrc=a.src;this.disabledSoundIconSrc=null;a=c.createElement("img");var d=this;a.onload=function(){d.disabledSoundIconSrc=this.src;d=null};a.src=this.soundIconSrc.replace("icon","disabled-icon")}this.validationUrl=this.imageSrcUrl.replace("get=image","get=validation-result");
this.pUrl=this.imageSrcUrl.replace("get=image","get=p");this.followHelpLink=!0;if(a=k.getInputElement(this.options.userInputID))this.userInput=a,this.userInput.setAttribute("autocomplete","off"),a.style.textTransform=this.options.autoUppercaseInput?"uppercase":"lowercase"}var c=f.document,l=f.navigator,n={captchaStyleName:"",captchaId:"",userInputID:"",autoUppercaseInput:!0,autoFocusInput:!0,autoClearInput:!0,autoReloadExpiredImage:!0,autoReloadPeriod:1200,autoReloadTimeout:7200,soundStartDelay:0,
limitSoundRegeneration:!0,imageColorMode:"none",isLocalNetwork:!1,isJavaScriptRequired:!0,reloadTimerMaxTicks:100,reloadTimerDelay:250,minSoundCooldown:2E3},k={extend:function(a,b){var e={},c;for(c in b){var d=a[c];e[c]="undefined"===typeof d?b[c]:d}return e},getMimeType:function(){return"audio/x-wav"},getTimestamp:function(){var a=new Date;return a.getTime()+6E4*a.getTimezoneOffset()},updateTimestamp:function(a){var b=a.indexOf("&d=");-1!==b&&(a=a.substring(0,b));return a+"&d="+this.getTimestamp()},
detectSSL:function(a){var b=a.indexOf("&e=");-1!==b&&(a=a.substring(0,b)+a.substring(b+4,a.length));"https:"===c.location.protocol&&(a+="&e=1");return a},detectAndroid:function(){var a=!1;l&&l.userAgent&&l.userAgent.match(/Linux; U; Android/)&&(a=!0);return a},detectIOS:function(){var a=!1;l&&l.userAgent&&l.userAgent.match(/like Mac OS/)&&(a=!0);return a},detectFirefox3:function(){var a=!1;l&&l.userAgent&&l.userAgent.match(/(Firefox)\/(3\.6\.[^;\+,\/\s]+)/)&&(a=!0);return a},detectSafariSSL:function(){var a=
!1;if(l&&l.userAgent){var b=l.userAgent.match(/Safari/);b&&((b=l.userAgent.match(/Chrome/))||"https:"!==c.location.protocol||(a=!0))}return a},detectIncompatibleAudio:function(){return this.detectFirefox3()},useHtml5Audio:function(){if(this.detectAndroid()||this.detectIOS())var a=!0;else a=c.createElement("audio"),a=!!a.canPlayType&&!!a.canPlayType("audio/wav")&&!this.detectIncompatibleAudio();return a},detectAndroidBelow41:function(){var a=!1;if(l&&l.userAgent){var b=l.userAgent.indexOf("Android");
0<=b&&4.1>parseFloat(l.userAgent.slice(b+8))&&(a=!0)}return a},soundReplaySupported:function(){return this.useHtml5Audio()&&!this.detectAndroidBelow41()},detectIE:function(){if(l&&l.userAgent){var a=l.userAgent.toLowerCase();if(-1!==a.indexOf("msie")||-1!==a.indexOf("trident/"))return!0}return!1},registerHandler:function(a,b,e,c){if("domready"===b)this.registerDomReadyHandler(e);else if("undefined"!==typeof a.addEventListener)a.addEventListener(b,e,c);else if("undefined"!==typeof a.attachEvent){var d=
b+e;a["e"+d]=e;a[d]=function(b){"undefined"===typeof b&&(b=f.event);a["e"+d](b)};a.attachEvent("on"+b,a[d])}else if(b="o"+b,"function"===typeof a[b]){var p=a[b];a[b]=function(){p();return e()}}else a[b]=e},registerDomReadyHandler:function(a){if(c.addEventListener)c.addEventListener("DOMContentLoaded",function(){c.removeEventListener("DOMContentLoaded",arguments.callee,!1);a()},!1);else if(c.attachEvent){var b=!1;c.attachEvent("onreadystatechange",function(){"complete"===c.readyState&&(c.detachEvent("onreadystatechange",
arguments.callee),a(),b=!0)});c.documentElement.doScroll&&f===f.top&&function(){if(!b){try{c.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,1);return}a();b=!0}}()}else this.registerHandler(f,"load",a,!1)},isCanvasSupported:function(){var a=c.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},getInputElement:function(a){var b=null,e=c.getElementById(a);if(e)b=e;else if(e=c.querySelectorAll?c.querySelectorAll("input[type=text]"):c.getElementsByTagName("input"),
0!==e.length)for(var d=0;d<e.length;d++)if("text"===e[d].type&&-1!==e[d].id.indexOf(a)){b=e[d];break}return b},parseJson:function(a){var b=null;"undefined"!==typeof JSON&&"function"===typeof JSON.parse&&(b=JSON.parse(a));b||(b=eval("("+a+")"));return b},ajax:{xhr:function(){var a=null;try{return a=new XMLHttpRequest}catch(b){}try{return a=new ActiveXObject("MSXML2.XMLHTTP.5.0")}catch(b){}try{return a=new ActiveXObject("MSXML2.XMLHTTP.4.0")}catch(b){}try{return a=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(b){}try{return a=
new ActiveXObject("MSXML2.XMLHTTP")}catch(b){}try{return a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}return a},get:function(a,b){var e=this.xhr();e&&0===e.readyState&&(e.onreadystatechange=function(){4===e.readyState&&b(e)},e.open("GET",a,!0),e.send())}}};d.init=function(a,b,e,p,t,r,l,g,n,h,m,u,v,w){var q=function(){c.getElementById(a+"_CaptchaImage")&&(f[a]=new d({captchaStyleName:a,captchaId:b,userInputID:e,autoUppercaseInput:p,autoFocusInput:t,autoClearInput:r,autoReloadExpiredImage:l,autoReloadPeriod:g,
autoReloadTimeout:n,soundStartDelay:h,limitSoundRegeneration:m,imageColorMode:u,isLocalNetwork:v,isJavaScriptRequired:w}),f[a].postInit(),f[a].initEventListeners())};"undefined"!==typeof f.jQuery?jQuery(q):"complete"===c.readyState?q():k.registerHandler(f,"domready",q,!1);f.opera?k.registerHandler(f,"popstate",function(b){f[a].reloadImage()},!1):f.chrome?k.registerHandler(f,"domready",function(b){b=c.getElementById("BDC_BackWorkaround_"+a);"0"===b.value?b.value="1":(b.value="0",f[a].reloadImage())},
!1):k.registerHandler(f,"pageshow",function(b){b&&b.persisted&&f[a].reloadImage()},!1)};d.getInstanceByStyleName=function(a){var b=null;a&&(a=f[a],"undefined"!==typeof a&&(b=a));return b};d.prototype.reloadImage=function(){if(this.image&&!this.reloadInProgress&&!this.sessionExpired&&(!this.controlsDisabled||this.soundPlayDelayed)){this.reloadInProgress=!0;this.disableControls();this.progressIndicator=c.createElement("span");this.progressIndicator.className="BDC_ProgressIndicator";this.progressIndicator.appendChild(c.createTextNode("."));
this.preReloadImage();var a=k.updateTimestamp(this.imageSrcUrl);this.initNewImage(a);this.imagePlaceholder.innerHTML="";this.imagePlaceholder.appendChild(this.progressIndicator);this.showProgress()}};d.prototype.initNewImage=function(a){this.newImage=c.createElement("img");var b=this,e=!1;this.newImage.onload=function(){!e&&b.newImage&&b.imagePlaceholder&&b.progressIndicator&&(b.imagePlaceholder.innerHTML="",b.imagePlaceholder.appendChild(b.newImage),b.image=b.newImage,b.progressIndicator=null,b.initImageColorModeHandler(),
b.postReloadImage(),b=null,e=!0)};this.newImage.id=this.image.id;this.newImage.alt=this.image.alt;this.imageSrcUrl=this.newImage.src=a;"none"!==this.options.imageColorMode&&this.newImage.setAttribute("style","display: none !important");!this.options.isLocalNetwork&&this.options.isJavaScriptRequired&&this.gp()};d.prototype.showProgress=function(){if(this.progressIndicator&&this.reloadTimerTicks<this.options.reloadTimerMaxTicks){this.reloadTimerTicks+=1;this.updateProgressIndicator();var a=this;this.reloadTimer=
setTimeout(function(){a.showProgress();a=null},this.options.reloadTimerDelay)}else clearTimeout(this.reloadTimer),this.reloadTimerTicks=0,this.reloadInProgress=!1};d.prototype.updateProgressIndicator=function(){0===this.progressIndicator.childNodes.length?this.progressIndicator.appendChild(c.createTextNode(".")):this.progressIndicator.firstChild.nodeValue=0===this.reloadTimerTicks%5?".":this.progressIndicator.firstChild.nodeValue+"."};d.prototype.playSound=function(){if(!(this.soundPlayingInProgess||
this.controlsDisabled&&!this.soundPlayDelayed))if(this.disableControls(),this.options.limitSoundRegeneration&&!k.soundReplaySupported()&&this.soundPlayed)this.soundPlayDelayed=!0,this.reloadImage();else{this.prePlaySound();this.soundPlayingInProgess=!0;if(k.useHtml5Audio()){var a=this,b=c.getElementById("BDC_CaptchaSoundAudio_"+this.captchaStyleName);b&&!this.playNewAudio?(b.currentTime=0,this.soundStartDelayTimer=setTimeout(function(){a&&(clearTimeout(a.soundStartDelayTimer),c.getElementById("BDC_CaptchaSoundAudio_"+
a.captchaStyleName).play())},this.options.soundStartDelay)):(this.soundPlaceholder.innerHTML="",b=this.soundUrl,b=k.updateTimestamp(b),b=k.detectSSL(b),b=new Audio(b),b.id="BDC_CaptchaSoundAudio_"+this.captchaStyleName,b.type="audio/wav",b.autobuffer=!1,b.loop=!1,b.autoplay=!1,b.preload="auto",this.soundPlaceholder.appendChild(b),b.load(),k.registerHandler(b,"canplay",function(){a&&(a.soundStartDelayTimer=setTimeout(function(){clearTimeout(a.soundStartDelayTimer);c.getElementById("BDC_CaptchaSoundAudio_"+
a.captchaStyleName).play()},a.options.soundStartDelay))},!1));k.registerHandler(b,"ended",function(){if(a){var b=c.getElementById("BDC_CaptchaSoundAudio_"+a.captchaStyleName);1===b.duration?b.play():(a.soundPlayingInProgess=!1,a.soundReplayCount=0,a.enableControls(),a=null)}},!1);k.registerHandler(b,"error",function(b){a&&(a.soundReplayCount+=1,1===a.soundReplayCount&&(a.soundPlayingInProgess=!1,a.soundPlayDelayed=!0,a.playNewAudio=!0,a.reloadImage()))},!1)}else this.soundPlaceholder.innerHTML="",
a=this,this.soundStartDelayTimer=setTimeout(function(){clearTimeout(a.soundStartDelayTimer);a.startXhtmlSoundPlayback()},this.options.soundStartDelay);this.soundPlayed=!0}};d.prototype.startXhtmlSoundPlayback=function(){var a=this.soundUrl;a=k.updateTimestamp(a);a=k.detectSSL(a);a='<object id="BDC_CaptchaSoundObject_'+this.captchaStyleName+'" classid="clsid:22D6F312-B0F6-11D0-94AB-0080C74C7E95" height="0" width="0" style="width: 0; height: 0"><param name="AutoStart" value="1"/><param name="Volume" value="0"/><param name="PlayCount" value="1"/><param name="FileName" value="'+
a+'"/><embed id="BDC_CaptchaSoundEmbed" src="'+a+'" autoplay="true" hidden="true" volume="100" type="'+k.getMimeType()+'" style="display:inline"/></object>"';this.soundPlaceholder.innerHTML=a;var b=this;this.soundCooldownTimer=setTimeout(function(){b&&(clearTimeout(b.soundCooldownTimer),b.soundPlayingInProgess=!1,b.enableControls(),b=null)},this.options.minSoundCooldown)};d.prototype.initEventListeners=function(){var a=this,b=c.getElementById(this.captchaStyleName+"_ReloadLink");b&&k.registerHandler(b,
"click",function(b){a.reloadImage();this.blur();b.preventDefault?b.preventDefault():b.returnValue=!1},!1);(b=c.getElementById(this.captchaStyleName+"_SoundLink"))&&k.registerHandler(b,"click",function(b){a.playSound();this.blur();b.preventDefault?b.preventDefault():b.returnValue=!1},!1);(b=c.getElementById(this.captchaStyleName+"_HelpLink"))&&k.registerHandler(b,"click",function(b){a.onHelpLinkClick();a.followHelpLink||(b.preventDefault?b.preventDefault():b.returnValue=!1)},!1)};d.prototype.postInit=
function(){if(!this.options.isLocalNetwork&&this.options.isJavaScriptRequired){var a=this;this.p(function(b){a.m(b,!1)})}this.initImageColorModeHandler()};d.prototype.preReloadImage=function(){"none"!==this.options.imageColorMode&&this.hideImage();this.clearInput();this.focusInput()};d.prototype.postReloadImage=function(){this.validationUrl=this.imageSrcUrl.replace("get=image","get=validation-result");if(this.options.autoReloadExpiredImage){this.autoReloadTimer&&clearTimeout(this.autoReloadTimer);
var a=this;this.autoReloadTimer=setTimeout(function(){clearTimeout(a.autoReloadTimer);a.autoReloadPeriodSum>=a.options.autoReloadTimeout?(a.disableControls(),a.sessionExpired=!0):(a.autoReloading=!0,a.reloadImage(),a.autoReloading=!1,a.autoReloadPeriodSum+=a.options.autoReloadPeriod,a=null)},a.options.autoReloadPeriod)}this.soundIconSrc?(this.soundPlaceholder.innerHTML="",this.soundPlayed=!1,this.soundPlayDelayed?(this.playSound(),this.soundPlayDelayed=!1):this.enableControls()):this.enableControls()};
d.prototype.prePlaySound=function(){this.focusInput()};d.prototype.onHelpLinkClick=function(){};d.registerCustomHandler=function(a,b){var c=d.prototype[a],f="prePlaySound"===a;d.prototype[a]=function(){b.call(this);f||c.call(this)}};d.prototype.focusInput=function(){this.options.autoFocusInput&&this.userInput&&(this.autoReloading||this.userInput.focus())};d.prototype.clearInput=function(){this.options.autoClearInput&&this.userInput&&(this.userInput.value="")};d.prototype.disableControls=function(){this.controlsDisabled=
!0;this.disableReloadIcon();this.disableSoundIcon()};d.prototype.enableControls=function(){this.controlsDisabled=!1;this.enableReloadIcon();this.enableSoundIcon()};d.prototype.disableReloadIcon=function(){this.reloadIconSrc&&this.disabledReloadIconSrc&&(c.getElementById(this.captchaStyleName+"_ReloadIcon").src=this.disabledReloadIconSrc)};d.prototype.enableReloadIcon=function(){this.reloadIconSrc&&this.disabledReloadIconSrc&&(c.getElementById(this.captchaStyleName+"_ReloadIcon").src=this.reloadIconSrc)};
d.prototype.disableSoundIcon=function(){this.soundIconSrc&&this.disabledSoundIconSrc&&(c.getElementById(this.captchaStyleName+"_SoundIcon").src=this.disabledSoundIconSrc)};d.prototype.enableSoundIcon=function(){this.soundIconSrc&&this.disabledSoundIconSrc&&(c.getElementById(this.captchaStyleName+"_SoundIcon").src=this.soundIconSrc)};d.prototype.getBase64Image=function(a){var b=this.imageSrcUrl.replace("get=image","get=base64-image-string"),e=this;k.ajax.get(b,function(b){if(200!==b.status)e=null;
else try{var d=b.responseText;e.colorImageDataUrl=d;e.base64Image=c.createElement("img");var f=!1;e.base64Image.onload=function(){!f&&e.imagePlaceholder&&(e.imagePlaceholder.innerHTML="",e.imagePlaceholder.appendChild(this),e.image=e.base64Image,f=!0,"function"===typeof a&&a())};e.base64Image.id=e.image.id;e.base64Image.alt=e.image.alt;e.base64Image.src=d;"none"!==e.imageColorMode&&e.base64Image.setAttribute("style","display: none !important")}catch(q){}})};d.prototype.showImage=function(){this.image&&
(k.detectIE()?(this.imagePlaceholder.innerHTML="",this.base64Image?(this.base64Image.setAttribute("style","display: block !important"),this.imagePlaceholder.appendChild(this.base64Image)):(this.image.style.display="block",this.imagePlaceholder.appendChild(this.image))):this.image.setAttribute("style","display: block !important"))};d.prototype.hideImage=function(){this.image&&this.image.setAttribute("style","display: none !important")};d.prototype.initImageColorModeHandler=function(){if(k.detectIE())if(k.isCanvasSupported()){var a=
this;switch(this.options.imageColorMode){case "color":this.getBase64Image(function(){a.showImage();a.registerImageHoverHandler()});break;case "grayscale":this.getBase64Image(function(){a.convertColorImageToGrayscale(function(){a.showImage();a.registerImageHoverHandler()})})}}else this.showImage();else{switch(this.options.imageColorMode){case "color":this.image.setAttribute("style","display: block !important");break;case "grayscale":this.image.setAttribute("style","webkit-filter: grayscale(100%)!important;-moz-filter: grayscale(100%)!important;-ms-filter: grayscale(100%)!important;-o-filter: grayscale(100%)!important;filter: grayscale(100%)!important;filter: url('url(\"data:image/svg+xml;utf8,<svg%20xmlns='http://www.w3.org/2000/svg'><filter%20id='grayscale'><feColorMatrix%20type='matrix'%20values='0.3333%200.3333%200.3333%200%200%200.3333%200.3333%200.3333%200%200%200.3333%200.3333%200.3333%200%200%200%200%200%201%200'/></filter></svg>#grayscale\");')!important;filter: gray!important")}this.registerImageHoverHandler()}};
d.prototype.convertColorImageToGrayscale=function(a){var b=this.image;if(b.complete){var c=d.imageProcess.getBase64GrayscaleImageDataUrl(b);this.grayscaleImageDataUrl=b.src=c;"function"===typeof a&&(b.onload=function(){a()})}else{var f=this,k=!1;b.onload=function(){if(!k){var c=d.imageProcess.getBase64GrayscaleImageDataUrl(this);this.src=c;f.grayscaleImageDataUrl=c;"function"===typeof a&&(b.onload=function(){a()});f=null;k=!0}}}};d.prototype.registerImageHoverHandler=function(){if("none"!==this.imageColorMode){var a=
this;k.detectIE()?(k.registerHandler(this.imagePlaceholder,"mouseenter",function(b){if(0<this.children.length)switch(a.options.imageColorMode){case "color":a.grayscaleImageDataUrl=d.imageProcess.getBase64GrayscaleImageDataUrl(this.children[0]);this.children[0].src=a.grayscaleImageDataUrl;break;case "grayscale":this.children[0].src=a.colorImageDataUrl}},!1),k.registerHandler(this.imagePlaceholder,"mouseleave",function(b){if(0<this.children.length)switch(a.options.imageColorMode){case "color":this.children[0].src=
a.colorImageDataUrl;break;case "grayscale":this.children[0].src=a.grayscaleImageDataUrl}},!1)):(k.registerHandler(this.image,"mouseenter",function(b){switch(a.options.imageColorMode){case "color":this.setAttribute("style","webkit-filter: grayscale(100%)!important;-moz-filter: grayscale(100%)!important;-ms-filter: grayscale(100%)!important;-o-filter: grayscale(100%)!important;filter: grayscale(100%)!important;filter: url('url(\"data:image/svg+xml;utf8,<svg%20xmlns='http://www.w3.org/2000/svg'><filter%20id='grayscale'><feColorMatrix%20type='matrix'%20values='0.3333%200.3333%200.3333%200%200%200.3333%200.3333%200.3333%200%200%200.3333%200.3333%200.3333%200%200%200%200%200%201%200'/></filter></svg>#grayscale\");')!important;filter: gray!important");
break;case "grayscale":this.setAttribute("style","")}},!1),k.registerHandler(this.image,"mouseleave",function(b){switch(a.options.imageColorMode){case "color":this.setAttribute("style","");break;case "grayscale":this.setAttribute("style","webkit-filter: grayscale(100%)!important;-moz-filter: grayscale(100%)!important;-ms-filter: grayscale(100%)!important;-o-filter: grayscale(100%)!important;filter: grayscale(100%)!important;filter: url('url(\"data:image/svg+xml;utf8,<svg%20xmlns='http://www.w3.org/2000/svg'><filter%20id='grayscale'><feColorMatrix%20type='matrix'%20values='0.3333%200.3333%200.3333%200%200%200.3333%200.3333%200.3333%200%200%200.3333%200.3333%200.3333%200%200%200%200%200%201%200'/></filter></svg>#grayscale\");')!important;filter: gray!important")}},
!1))}};d.imageProcess={ImageMatrix:function(a,b,c){this.width=a;this.height=b;this.channel=c;this.data=Array(a*b*c)},getColorImageMatrix:function(a){var b=new Image;b.src=a.src;var e=c.createElement("canvas"),d=e.getContext("2d"),f=a.naturalWidth;a=a.naturalHeight;e.width=f;e.height=a;d.drawImage(b,0,0);b=d.getImageData(0,0,f,a);e=new this.ImageMatrix(f,a,3);for(d=0;d<a;d++)for(var k=0;k<f;k++){var l=4*d*f+4*k,g=3*d*f+3*k;e.data[g]=b.data[l];e.data[g+1]=b.data[l+1];e.data[g+2]=b.data[l+2]}return e},
sRGBFromLinear:function(a){return.0031308<a?1.055*Math.pow(a,1/2.4)-.055:12.92*a},linearFromsRGB:function(a){return.04045<=a?Math.pow((a+.055)/1.055,2.4):a/12.92},getGrayscaleImageMaxtrix:function(a){for(var b=a.width,c=a.height,d=new this.ImageMatrix(b,c,1),f=0;f<c;f++)for(var k=0;k<b;k++){var l=3*f*b+3*k,g=this.linearFromsRGB(a.data[l]/255),n=this.linearFromsRGB(a.data[l+1]/255);l=this.linearFromsRGB(a.data[l+2]/255);g=Math.round(255*this.sRGBFromLinear(.2126*g+.7152*n+.0722*l));d.data[f*b+k]=g}return d},
getGrayscaleImageCanvas:function(a){var b=c.createElement("canvas"),e=b.getContext("2d"),d=a.width,f=a.height;b.width=d;b.height=f;for(var k=e.getImageData(0,0,d,f),l=0;l<f;l++)for(var g=0;g<d;g++){var n=l*d+g,h=4*l*d+4*g;k.data[h]=a.data[n];k.data[h+1]=a.data[n];k.data[h+2]=a.data[n];k.data[h+3]=255}e.putImageData(k,0,0,0,0,d,f);return b},getBase64GrayscaleImageDataUrl:function(a){a=this.getColorImageMatrix(a);a=this.getGrayscaleImageMaxtrix(a);return this.getGrayscaleImageCanvas(a).toDataURL("image/jpeg")}};
d.prototype.m=function(a,b){if(this.userInput){a=d.cm(a);var c=d.cInt2B(a);k.registerHandler(this.userInput,"keyup",function(){this.value=d.cc2c(this.value,c)},!1);this.userInput.removeAttribute("disabled");b&&this.userInput.focus()}};d.cm=function(a){return a%65533+1};d.cc2c=function(a,b){b=b.split("");var c=b.length,d=a.split(""),f="";for(a=a.length-1;0<=a;a--){var k=b[c-- -1];k="undefined"!==typeof k&&"1"===k?d[a].toUpperCase():d[a].toLowerCase();f=k+f}return f};d.cInt2B=function(a){return(a>>>
0).toString(2)};d.prototype.p=function(a){this.userInput&&(this.userInput.setAttribute("disabled","disabled"),this.fp(function(b){a(b)}))};d.prototype.fp=function(a){var b=c.getElementById("BDC_Hs_"+this.captchaStyleName),e=c.getElementById("BDC_SP_"+this.captchaStyleName);if(b&&e){var d=this.captchaId,f=b.value,k;BDCustomFor.run({startingPos:e.value,step:2200,eachFn:function(b){k=""+b;a1(k+d)===f&&(BDCustomFor.stopFor(),a(b))}})}};d.prototype.gp=function(){this.pUrl=this.imageSrcUrl.replace("get=image",
"get=p");var a=this;k.ajax.get(this.pUrl,function(b){if(200!==b.status)a=null;else try{var e=k.parseJson(b.responseText),d=c.getElementById("BDC_Hs_"+a.captchaStyleName),f=c.getElementById("BDC_SP_"+a.captchaStyleName);d&&f&&(d.value=e.hs,f.value=e.sp,a.p(function(b){a.m(b,!0)}))}catch(r){}})};f.botdetect=f.BotDetect=d})(window);
